---
title: iOS SDK
description: Reclaim Protocol's InApp iOS SDK for ZK proof generations for requests with an in-app experience of web verification
---

import { BadgeGroup } from '@/app/components/badge';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';

# Get Started

<BadgeGroup badges={[
    { href: 'https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk', imgSrc: 'https://img.shields.io/github/v/tag/reclaimprotocol/reclaim-inapp-ios-sdk.svg', alt: 'Reclaim iOS SDK' },
    { href: 'https://docs.reclaimprotocol.org/inapp-sdks/ios', imgSrc: 'https://img.shields.io/badge/read_the-docs-blue.svg', alt: 'Documentation' },
    { href: 'https://cocoapods.org/pods/ReclaimInAppSdk', imgSrc: 'https://img.shields.io/cocoapods/v/ReclaimInAppSdk.svg', alt: 'CocoaPods Compatible' },
    { href: 'https://swiftpackageindex.com/reclaimprotocol/reclaim-inapp-ios-sdk', imgSrc: 'https://img.shields.io/endpoint.svg?url=https%3A%2F%2Fswiftpackageindex.com%2Fapi%2Fpackages%2Freclaimprotocol%2Freclaim-inapp-ios-sdk%2Fbadge%3Ftype%3Dplatforms', alt: 'Platforms' },
    { href: 'https://swiftpackageindex.com/reclaimprotocol/reclaim-inapp-ios-sdk', imgSrc: 'https://img.shields.io/endpoint.svg?url=https%3A%2F%2Fswiftpackageindex.com%2Fapi%2Fpackages%2Freclaimprotocol%2Freclaim-inapp-ios-sdk%2Fbadge%3Ftype%3Dswift-versions', alt: 'Swift Versions' },
    { href: 'https://swiftpackageindex.com/reclaimprotocol/reclaim-inapp-ios-sdk', imgSrc: 'https://img.shields.io/badge/Swift_Package_Manager-compatible-green.svg', alt: 'Swift Package Manager' }
]} />

This SDK allows you to integrate Reclaim's in-app verification process into your iOS application.

## Prerequisites

- An iOS application source code (Support for iOS 13 or later).
- An iOS device running iOS 13 or later.
- A Reclaim account where you've created an app and have the app id, app secret.
- A provider id that you've added to your app in Reclaim Devtools.

## Example

- See the [Reclaim Example - SwiftUI](https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/blob/53a19f88c8d90df485a60dc20190f740cd9fd108/Examples/SwiftUIExample/README.md) for a complete example of how to use the SDK in a SwiftUI application.
- See the [Reclaim Example - SwiftUI with CocoaPods](https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/blob/main/Examples/SwiftUIWithPodExample/README.md) for a complete example of how to use the SDK in a SwiftUI application with CocoaPods.

## Installation

### 1. Adding Reclaim InApp SDK to your Xcode Project

<Accordions>
<Accordion title="Method 1: When working with an Xcode project (Recommended)">

Copy the following URL and use it to add Swift Package Manager (SPM) dependency into the Xcode project:

```
https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git
```

#### How to add a Swift Package Manager (SPM) dependency to your Xcode project:

1. In your Xcode Editor's toolbar, click on `File` > `Add Package Dependency...`.
<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/1.png" width="500" alt="Add a dependency to your Xcode project" />
2. In the `Add Package Dependency` dialog box, paste the URL `https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git` into the `Search or Enter package URL` field on the top right corner of dialog box.
<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/2.png" width="500" alt="Add a dependency to your Xcode project" />
3. Click `Add Package`.
4. In the other window, select your **app target** in the `Add to Targets` section and then click `Add package`.
<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/3.png" width="500" alt="Add a dependency to your Xcode project" />

This should complete the installation of the Reclaim InApp SDK. Now follow the [steps below to link the necessary frameworks to your Xcode project](#2-add-reclaims-xcframeworks-to-your-xcode-project).

##### Note

- It's worth noting that you should commit the **swiftpm** folder that will be built and more specifically that the **Package.resolved** file should be included in your source control/git.

</Accordion>

<Accordion title="Method 2: When working with an Xcode Workspace project with CocoaPods">

1. Make sure to define a global platform for your project in your `Podfile` with version 13.0 or higher.

```ruby
platform :ios, '13.0'
```

2. Add the following to your `Podfile` to override the default version of the ReclaimInAppSdk (optional):


<Tabs items={['From Cocoapods (recommended)', 'From a specific tag', 'From git HEAD', 'From a specific commit', 'From a specific branch']}>

```ruby tabs="From Cocoapods (recommended)"
pod 'ReclaimInAppSdk' '~> 0.3.0'
```

```ruby tabs="From a specific tag"
pod 'ReclaimInAppSdk', :git => 'https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git', :tag => '0.3.0'
```

```ruby tabs="From git HEAD"
pod 'ReclaimInAppSdk', :git => 'https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git'
```

```ruby tabs="From a specific commit"
pod 'ReclaimInAppSdk', :git => 'https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git', :commit => '027e18b8b2365fd935e9e8585e31fa886c3af6ee'
```

```ruby tabs="From a specific branch"
pod 'ReclaimInAppSdk', :git => 'https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git', :branch => 'main'
```

</Tabs>

2. After adding the dependency, your podfile may look like this:

```ruby
platform :ios, '13.0'

target 'GitPodSwiftUIExample' do
  # Comment the next line if you don't want to use dynamic frameworks
  use_frameworks!

  # Pods for GitPodSwiftUIExample
  pod 'ReclaimInAppSdk', '~> 0.3.0'

  target 'GitPodSwiftUIExampleTests' do
    inherit! :search_paths
    # Pods for testing
  end

  target 'GitPodSwiftUIExampleUITests' do
    # Pods for testing
  end

end
```

3. Run `pod install`.
4. Open the `*.xcworkspace` file to work on the project. Verify that you're opening MyApp.xcworkspace and not opening MyApp.xcodeproj. The .xcworkspace file has the CocoaPod dependencies, the .xcodeproj doesn't.

For more info, check the [Reclaim Example - SwiftUI with CocoaPods](https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/blob/main/Examples/SwiftUIWithPodExample/README.md) for a complete example of how to use the SDK in a SwiftUI application with CocoaPods.

</Accordion>

<Accordion title="Method 3: When working with a Swift Package Manager manifest">


<Tabs items={['version', 'branch']}>

```swift tabs="version"
.package(url: "https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git", from: "0.3.0")
```

```swift tabs="branch"
.package(url: "https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk.git", branch: "main")
```

</Tabs>

#### Select a product:

- ReclaimInAppSdk

```swift
.product(name: "ReclaimInAppSdk", package: "reclaim-inapp-ios-sdk")
```

</Accordion>

</Accordions>

#### Build the project.

1. If you have a `*.xcworkspace` then open `YourApp.xcworkspace` in Xcode. Verify that you're opening MyApp.xcworkspace and not opening MyApp.xcodeproj. The .xcworkspace file has the CocoaPod dependencies, the .xcodeproj doesn't. If you don't have a `*.xcworkspace` then open `YourApp.xcodeproj` in Xcode.
2. Select **Product** > **Build** or press `Cmd + B`.

<Accordions>
<Accordion title="Troubleshooting: Incase your build fails when using CocoaPods">

1. Your build may fail due to an error like this:

<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/PodBuildError.png" alt="Xcode build error due to CocoaPods" width="500" />

2. To fix this, open the `*.xcworkspace` file in Xcode. In your target's `Build Settings`, under `Build Options` Section, set `User Script Sandboxing` to `No` and build the project again.

<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/PodBuildErrorFix.png" alt="Xcode build error due to CocoaPods" width="500" />

</Accordion>
</Accordions>

### 2. Fixing performance issues

Your app performance will be severely impacted when you run debug executable on a physical device. Fixing this requires a simple change in your Xcode project xcscheme.

<Accordions>
<Accordion title="Method 1: Update Environment Variables for XCScheme (Recommended)">

1. Open your project in Xcode.
2. Click on the project target.
3. Click on the **Scheme** dropdown.

<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/10.png" alt="Edit current xcscheme in Xcode" width="500" />

4. Click on the **Edit Scheme** button.
5. Click on the **Run** tab.
6. Click on the **Arguments** tab and check the **Environment Variables** section.

<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/12.png" alt="Enable Debug executable in Xcode" width="500" />

7. Add the following environment variable:
    - Key: `GODEBUG`
    - Value: `asyncpreemptoff=1`
8. Click on the **Close** button in the dialog and build the project.
9. Run the app on a physical device.

</Accordion>
<Accordion title="Method 2: Disable 'Debug executable'">

This method is **not recommended** but could be useful if you don't want to add environment variables to the xcscheme.

1. Open your project in Xcode.
2. Click on the project target.
3. Click on the **Scheme** dropdown.

<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/10.png" alt="Edit current xcscheme in Xcode" width="500" />

4. Click on the **Edit Scheme** button.
5. Click on the **Run** tab.
6. Uncheck the **Debug executable** checkbox.

<img src="https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/raw/53a19f88c8d90df485a60dc20190f740cd9fd108/Screenshots/Install/11.png" alt="Enable Debug executable in Xcode" width="500" />

</Accordion>
</Accordions>

### 3. Use ReclaimInAppSdk in your project

To use ReclaimInAppSdk in your project, follow these steps:

1. Import the ReclaimInAppSdk module into your Swift file.

```swift
import ReclaimInAppSdk
```

2. Create a request object.

```swift
let request = ReclaimVerification.Request.params(
    try .init(
        /// You can use the appId and secret from Reclaim Devtools to create a request.
        /// Providing appId and secret here in this initializer is optional. 
        /// If you don't provide it, the SDK will use the appId and secret from the Info.plist file.
        // appId: "YOUR_APP_ID_FROM_RECLAIM_DEVTOOLS",
        // secret: "YOUR_APP_SECRET_FROM_RECLAIM_DEVTOOLS",
        /// This is the provider id that you've added to your app in Reclaim Devtools.
        /// The verification flow will use the provider information fetch by this provider id.
        providerId: providerId
    )
)
```

More ways to create a request object are available in the `ReclaimVerification.Request.*` apis.

3. Start the verification flow.

```swift
// This is the function that starts the verification flow.
// This may fail if device screen is getting shared.
let result = try await ReclaimVerification.startVerification(request)
```

The returned result is a `ReclaimVerification.Response` object. This object contains a response that has proofs, exception, and the sessionId if the verification is successful.

If the verification is cancelled or failed, the result will contain an exception.

You can use the `ReclaimVerification.Response` object to get the proof, exception, and sessionId.

```swift
let proof = result.response.proofs
let exception = result.response.exception
let sessionId = result.response.sessionId
```

If the verification is successful, the proof will contain the data that you need to store in your database.

If the verification is cancelled or failed, the exception will contain the error details.

In the above apis, `ReclaimVerification.Request.*`, `ReclaimVerification.startVerification` or `ReclaimVerification.startVerificationFromUrl` can also throw an error. The error can be one of the following:

- `ReclaimVerificationError.cancelled`: The verification was cancelled by the user.
- `ReclaimVerificationError.dismissed`: The verification was dismissed by the sdk.
- `ReclaimVerificationError.failed(let error)`: The verification failed due to an error.
- `ReclaimVerificationError.sessionExpired`: The verification session expired.

You can handle the error by using a `do-catch` block. For example:

```swift
do {
    let result = try await ReclaimVerification.startVerification(request)
} catch ReclaimVerificationError.cancelled {
    print("Verification cancelled")
} catch ReclaimVerificationError.dismissed {
    print("Verification dismissed")
}
```

For a complete example, see the [Reclaim Example - SwiftUI](https://github.com/reclaimprotocol/reclaim-inapp-ios-sdk/blob/53a19f88c8d90df485a60dc20190f740cd9fd108/Examples/SwiftUIExample/SwiftUIExample/ContentView.swift).

## Overrides | Advanced Usage

You can use the `ReclaimOverrides` to customize the verification flow with `ReclaimVerification.setOverrides`.

```swift
func setOverrides() {
    Task { @MainActor in
        do {
            try await ReclaimVerification.setOverrides(
                appInfo: ReclaimOverrides.ReclaimAppInfo(
                    appName: "Overridden Example",
                    appImageUrl: "https://placehold.co/400x400/png"
                )
                // Add other overrides here
            )
        } catch {
            print("unexpected failure error details: \(error)")
            showAlert(message: "Could not set overrides")
        }
    }
}
```

Read more about overrides in [Reclaim InApp SDK Documentation | Overrides](./usage/overrides)

## Upgrading

To upgrade to a new version of the Reclaim InApp SDK, follow these steps:

1. Make sure you have the latest version of the Reclaim InApp SDK. Currently the latest version is `v0.3.0`. 
1. Incase of any problems: remove package, clear build, restart Xcode, and add package again.

Migration guides will be available when a new version with API changes is released. 